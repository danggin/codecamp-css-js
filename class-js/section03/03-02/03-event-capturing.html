<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>event bubbling - stop propagation</title>
    <style>
      .box {
        width: 150px;
        height: 150px;
        background-color: lightgoldenrodyellow;
        margin-top: 10px;
        cursor: pointer;
      }
    </style>
    <script>
      const scaleBox = () => {
        document.querySelector('.box').style = 'width: 100vw; height: 100vh;';
      };

      const addLike = (event) => {
        event.stopPropagation();
        // 부모 태그로 클릭 이벤트 전파(propagation)를 중단(stop)

        alert('좋아요가 추가되었습니다.');
      };

      const loginCheck = (event) => {
        event.stopPropagation();
        const password = prompt('로그인 후 이용해 주세요.');

        if (password === '1234') {
          alert('민지 님, 반갑습니다. 즐거운 여행 되세요!');

          window.removeEventListener('click', loginCheck, { capture: true });
        } else {
          alert('로그인에 실패하였습니다. 다시 시도해 주세요.');
        }
      };

      window.addEventListener('click', loginCheck, { capture: true });
    </script>
  </head>
  <body>
    <div class="box" onclick="scaleBox()">
      <button onclick="addLike(event)">좋아요</button>
    </div>
    <p>사진을 클릭하면 전체 화면으로 볼 수 있습니다.</p>
  </body>
</html>
